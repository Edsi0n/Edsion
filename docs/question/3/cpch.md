# 重排？重绘？

## 重排 

> **更新了元素的几何属性（重排）**
::: t
如果你通过 `JavaScript` 或者 `CSS` **修改元素的几何位置属性**，例如改变元素的宽度、高度等，那么浏览器会触发重新布局，解析之后的一系列子阶段，这个过程就叫重排。无疑，**重排需要更新完整的渲染流水线，所以开销也是最大的**。
:::

## 重绘
> **更新元素的绘制属性（重绘）**

::: t
如果修改了元素的背景颜色，那么布局阶段将不会被执行，因为并没有引起几何位置的变换，所以就直接进入了绘制阶段，然后执行之后的一系列子阶段，这个过程就叫**重绘**s。相较于重排操作，**重绘省去了布局和分层阶段，所以执行效率会比重排操作要高一些**。
:::

## 减少重排重绘, 方法很多：

::: t
1. 使用 `class` 操作样式，而不是频繁操作 `style`
2. 避免使用 `table` 布局
3. 批量`dom` 操作，例如 `createDocumentFragment`，或者使用框架，例如 `Vue`
4. `Debounce window resize` 事件
5. 对 `dom`属性的读写要分离
6. `will-change`: `transform` 做优化
:::